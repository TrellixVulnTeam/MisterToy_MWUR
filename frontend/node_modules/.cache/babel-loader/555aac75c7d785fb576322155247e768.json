{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\services\\user.service.js","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\services\\user.service.js","mtime":1625761315172},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Rla2VsL0Rlc2t0b3AvQ29kaW5nIEFjYWRlbnkvTXlQcm9qZWN0cy9EYXk0Ny1DTEktRnJhbWV3b3JrQWR2YW5jZWQvbWlzdGVydG95L0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBzdG9yYWdlU2VydmljZSB9IGZyb20gJy4vYXN5bmMtc3RvcmFnZS5zZXJ2aWNlJzsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICcuL2h0dHAuc2VydmljZSc7CnZhciBTQ09SRV9GT1JfUkVWSUVXID0gMTA7CmV4cG9ydCB2YXIgdXNlclNlcnZpY2UgPSB7CiAgbG9naW46IGxvZ2luLAogIGxvZ291dDogbG9nb3V0LAogIHNpZ251cDogc2lnbnVwLAogIGdldFVzZXJzOiBnZXRVc2VycywKICBnZXRCeUlkOiBnZXRCeUlkLAogIHJlbW92ZTogcmVtb3ZlLAogIHVwZGF0ZTogdXBkYXRlLAogIGdldExvZ2dlZGluVXNlcjogZ2V0TG9nZ2VkaW5Vc2VyLAogIGluY3JlYXNlU2NvcmU6IGluY3JlYXNlU2NvcmUKfTsKd2luZG93LnVzZXJTZXJ2aWNlID0gdXNlclNlcnZpY2U7IC8vIE5vdGU6IGR1ZSB0byBhc3luYywgbXVzdCBydW4gb25lIGJ5IG9uZS4uLgovLyB1c2VyU2VydmljZS5zaWdudXAoe2Z1bGxuYW1lOiAnUHVraSBOb3JtYScsIHVzZXJuYW1lOiAndXNlcjEnLCBwYXNzd29yZDonMTIzJyxzY29yZTogMTAwLCBpc0FkbWluOiBmYWxzZX0pCi8vIHVzZXJTZXJ2aWNlLnNpZ251cCh7ZnVsbG5hbWU6ICdNYXN0ZXIgQWRtaW5vdicsIHVzZXJuYW1lOiAnYWRtaW4nLCBwYXNzd29yZDonMTIzJywgc2NvcmU6IDEwMCwgaXNBZG1pbjogdHJ1ZX0pCi8vIHVzZXJTZXJ2aWNlLnNpZ251cCh7ZnVsbG5hbWU6ICdNdWtpIEcnLCB1c2VybmFtZTogJ211a2knLCBwYXNzd29yZDonMTIzJywgc2NvcmU6IDEwMH0pCgpmdW5jdGlvbiBnZXRVc2VycygpIHsKICAvLyAgcmV0dXJuIHN0b3JhZ2VTZXJ2aWNlLnF1ZXJ5KCd1c2VyJykKICByZXR1cm4gaHR0cFNlcnZpY2UuZ2V0KCJ1c2VyIik7Cn0KCmZ1bmN0aW9uIGdldEJ5SWQodXNlcklkKSB7CiAgLy8gIHJldHVybiBzdG9yYWdlU2VydmljZS5nZXQoJ3VzZXInLCB1c2VySWQpCiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmdldCgidXNlci8iLmNvbmNhdCh1c2VySWQpKTsKfQoKZnVuY3Rpb24gcmVtb3ZlKHVzZXJJZCkgewogIC8vICByZXR1cm4gc3RvcmFnZVNlcnZpY2UucmVtb3ZlKCd1c2VyJywgdXNlcklkKQogIHJldHVybiBodHRwU2VydmljZS5kZWxldGUoInVzZXIvIi5jb25jYXQodXNlcklkKSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZShfeCkgewogIHJldHVybiBfdXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF91cGRhdGUoKSB7CiAgX3VwZGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1c2VyKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gaHR0cFNlcnZpY2UucHV0KCJ1c2VyLyIuY29uY2F0KHVzZXIuX2lkKSwgdXNlcik7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB1c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgLy8gIEhhbmRsZSBjYXNlIGluIHdoaWNoIGFkbWluIHVwZGF0ZXMgb3RoZXIgdXNlcidzIGRldGFpbHMKICAgICAgICAgICAgaWYgKGdldExvZ2dlZGluVXNlcigpLl9pZCA9PT0gdXNlci5faWQpIF9zYXZlTG9jYWxVc2VyKHVzZXIpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF91cGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gaW5jcmVhc2VTY29yZSgpIHsKICByZXR1cm4gX2luY3JlYXNlU2NvcmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2luY3JlYXNlU2NvcmUoKSB7CiAgX2luY3JlYXNlU2NvcmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgdmFyIGJ5LAogICAgICAgIHVzZXIsCiAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgYnkgPSBfYXJnczIubGVuZ3RoID4gMCAmJiBfYXJnczJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlswXSA6IFNDT1JFX0ZPUl9SRVZJRVc7CiAgICAgICAgICAgIHVzZXIgPSBnZXRMb2dnZWRpblVzZXIoKTsKICAgICAgICAgICAgdXNlci5zY29yZSA9IHVzZXIuc2NvcmUgKyBieSB8fCBieTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gdXBkYXRlKHVzZXIpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHVzZXIuc2NvcmUpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2luY3JlYXNlU2NvcmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gbG9naW4oX3gyKSB7CiAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbG9naW4oKSB7CiAgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyh1c2VyQ3JlZCkgewogICAgdmFyIHVzZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBodHRwU2VydmljZS5wb3N0KCdhdXRoL2xvZ2luJywgdXNlckNyZWQpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX3NhdmVMb2NhbFVzZXIodXNlcikpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHNpZ251cChfeDMpIHsKICByZXR1cm4gX3NpZ251cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc2lnbnVwKCkgewogIF9zaWdudXAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVzZXJDcmVkKSB7CiAgICB2YXIgdXNlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGh0dHBTZXJ2aWNlLnBvc3QoJ2F1dGgvc2lnbnVwJywgdXNlckNyZWQpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX3NhdmVMb2NhbFVzZXIodXNlcikpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKICByZXR1cm4gX3NpZ251cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBsb2dvdXQoKSB7CiAgcmV0dXJuIF9sb2dvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ291dCgpIHsKICBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGh0dHBTZXJ2aWNlLnBvc3QoJ2F1dGgvbG9nb3V0Jyk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTUpOwogIH0pKTsKICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc2F2ZUxvY2FsVXNlcih1c2VyKSB7CiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkaW5Vc2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogIHJldHVybiB1c2VyOwp9CgpmdW5jdGlvbiBnZXRMb2dnZWRpblVzZXIoKSB7CiAgcmV0dXJuIEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkaW5Vc2VyJykgfHwgJ251bGwnKTsKfQ=="},{"version":3,"sources":["C:/Users/dekel/Desktop/Coding Acadeny/MyProjects/Day47-CLI-FrameworkAdvanced/mistertoy/Frontend/src/services/user.service.js"],"names":["storageService","httpService","SCORE_FOR_REVIEW","userService","login","logout","signup","getUsers","getById","remove","update","getLoggedinUser","increaseScore","window","get","userId","delete","user","put","_id","_saveLocalUser","by","score","userCred","post","sessionStorage","clear","setItem","JSON","stringify","parse","getItem"],"mappings":"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","sourcesContent":["import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\nconst SCORE_FOR_REVIEW = 10\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    increaseScore\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n// userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 100})\r\n\r\nfunction getUsers() {\r\n   //  return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n   //  return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n   //  return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n   //  return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n   //  Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\nasync function increaseScore(by = SCORE_FOR_REVIEW) {\r\n    const user = getLoggedinUser()\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\nasync function login(userCred) {\r\n   //  const users = await storageService.query('user')\r\n   //  console.log('userCred', userCred)\r\n   //  console.log('users', users)\r\n   // const user = users.find(user => user.username === userCred.username)\r\n   //  return _saveLocalUser(user)\r\n   const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n   //  const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\n"]}]}