{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\src\\store\\modules\\user-store.js","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\src\\store\\modules\\user-store.js","mtime":1626098264846},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Rla2VsL0Rlc2t0b3AvQ29kaW5nIEFjYWRlbnkvTXlQcm9qZWN0cy9EYXk0Ny1DTEktRnJhbWV3b3JrQWR2YW5jZWQvbWlzdGVydG95L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9kZWtlbC9EZXNrdG9wL0NvZGluZyBBY2FkZW55L015UHJvamVjdHMvRGF5NDctQ0xJLUZyYW1ld29ya0FkdmFuY2VkL21pc3RlcnRveS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9tdXRhdGlvbnM7CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCB7IHVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXNlci5zZXJ2aWNlJzsKaW1wb3J0IHsgc29ja2V0U2VydmljZSwgU09DS0VUX0VNSVRfVVNFUl9XQVRDSCwgU09DS0VUX0VWRU5UX1VTRVJfVVBEQVRFRCB9IGZyb20gJy4uL3NlcnZpY2VzL3NvY2tldC5zZXJ2aWNlJzsgLy8gdmFyIGxvY2FsTG9nZ2VkaW5Vc2VyID0gbnVsbDsKLy8gaWYgKHNlc3Npb25TdG9yYWdlLnVzZXIpIGxvY2FsTG9nZ2VkaW5Vc2VyID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS51c2VyIHx8IG51bGwpOwoKZXhwb3J0IHZhciB1c2VyU3RvcmUgPSB7CiAgc3RhdGU6IHsKICAgIGxvZ2dlZGluVXNlcjogdXNlclNlcnZpY2UuZ2V0TG9nZ2VkaW5Vc2VyKCksCiAgICB1c2VyczogW10sCiAgICB3YXRjaGVkVXNlcjogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgdXNlcnM6IGZ1bmN0aW9uIHVzZXJzKF9yZWYpIHsKICAgICAgdmFyIHVzZXJzID0gX3JlZi51c2VyczsKICAgICAgcmV0dXJuIHVzZXJzOwogICAgfSwKICAgIGxvZ2dlZGluVXNlcjogZnVuY3Rpb24gbG9nZ2VkaW5Vc2VyKF9yZWYyKSB7CiAgICAgIHZhciBsb2dnZWRpblVzZXIgPSBfcmVmMi5sb2dnZWRpblVzZXI7CiAgICAgIHJldHVybiBsb2dnZWRpblVzZXI7CiAgICB9LAogICAgd2F0Y2hlZFVzZXI6IGZ1bmN0aW9uIHdhdGNoZWRVc2VyKF9yZWYzKSB7CiAgICAgIHZhciB3YXRjaGVkVXNlciA9IF9yZWYzLndhdGNoZWRVc2VyOwogICAgICByZXR1cm4gd2F0Y2hlZFVzZXI7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IChfbXV0YXRpb25zID0gewogICAgc2V0TG9nZ2VkaW5Vc2VyOiBmdW5jdGlvbiBzZXRMb2dnZWRpblVzZXIoc3RhdGUsIF9yZWY0KSB7CiAgICAgIHZhciB1c2VyID0gX3JlZjQudXNlcjsKICAgICAgc3RhdGUubG9nZ2VkaW5Vc2VyID0gdXNlcjsKICAgIH0KICB9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgInNldExvZ2dlZGluVXNlciIsIGZ1bmN0aW9uIHNldExvZ2dlZGluVXNlcihzdGF0ZSwgX3JlZjUpIHsKICAgIHZhciB1c2VyID0gX3JlZjUudXNlcjsKICAgIHN0YXRlLmxvZ2dlZGluVXNlciA9IHVzZXI7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCAic2V0V2F0Y2hlZFVzZXIiLCBmdW5jdGlvbiBzZXRXYXRjaGVkVXNlcihzdGF0ZSwgX3JlZjYpIHsKICAgIHZhciB1c2VyID0gX3JlZjYudXNlcjsKICAgIHN0YXRlLndhdGNoZWRVc2VyID0gdXNlcjsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsICJzZXRVc2VycyIsIGZ1bmN0aW9uIHNldFVzZXJzKHN0YXRlLCBfcmVmNykgewogICAgdmFyIHVzZXJzID0gX3JlZjcudXNlcnM7CiAgICBzdGF0ZS51c2VycyA9IHVzZXJzOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgInJlbW92ZVVzZXIiLCBmdW5jdGlvbiByZW1vdmVVc2VyKHN0YXRlLCBfcmVmOCkgewogICAgdmFyIHVzZXJJZCA9IF9yZWY4LnVzZXJJZDsKICAgIHN0YXRlLnVzZXJzID0gc3RhdGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIHJldHVybiB1c2VyLl9pZCAhPT0gdXNlcklkOwogICAgfSk7CiAgfSksIF9tdXRhdGlvbnMpLAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmOSwgX3JlZjEwKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlckNyZWQsIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogICAgICAgICAgICAgICAgdXNlckNyZWQgPSBfcmVmMTAudXNlckNyZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJTZXJ2aWNlLmxvZ2luKHVzZXJDcmVkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywKICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBsb2dpbicsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoX3JlZjExLCBfcmVmMTIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlckNyZWQsIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMS5jb21taXQ7CiAgICAgICAgICAgICAgICB1c2VyQ3JlZCA9IF9yZWYxMi51c2VyQ3JlZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyU2VydmljZS5zaWdudXAodXNlckNyZWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0TG9nZ2VkaW5Vc2VyJywKICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gc2lnbnVwJywgX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjEzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UubG9nb3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRMb2dnZWRpblVzZXInLAogICAgICAgICAgICAgICAgICB1c2VyOiBudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9nb3V0JywgX2NvbnRleHQzLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkVXNlcnM6IGZ1bmN0aW9uIGxvYWRVc2VycyhfcmVmMTQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlcnM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UuZ2V0VXNlcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdXNlcnMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRVc2VycycsCiAgICAgICAgICAgICAgICAgIHVzZXJzOiB1c2VycwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvYWRVc2VycycsIF9jb250ZXh0NC50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDQudDA7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEFuZFdhdGNoVXNlcjogZnVuY3Rpb24gbG9hZEFuZFdhdGNoVXNlcihfcmVmMTUsIF9yZWYxNikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VySWQsIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNS5jb21taXQ7CiAgICAgICAgICAgICAgICB1c2VySWQgPSBfcmVmMTYudXNlcklkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJTZXJ2aWNlLmdldEJ5SWQodXNlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldFdhdGNoZWRVc2VyJywKICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoU09DS0VUX0VNSVRfVVNFUl9XQVRDSCwgdXNlcklkKTsKICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2Uub2ZmKFNPQ0tFVF9FVkVOVF9VU0VSX1VQREFURUQpOwogICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5vbihTT0NLRVRfRVZFTlRfVVNFUl9VUERBVEVELCBmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRXYXRjaGVkVXNlcicsCiAgICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvYWRBbmRXYXRjaFVzZXInLCBfY29udGV4dDUudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ1LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzIsIDEyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVVc2VyOiBmdW5jdGlvbiByZW1vdmVVc2VyKF9yZWYxNywgX3JlZjE4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE3LmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXJJZCA9IF9yZWYxOC51c2VySWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UucmVtb3ZlKHVzZXJJZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmVVc2VyJywKICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiByZW1vdmVVc2VyJywgX2NvbnRleHQ2LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Ni50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1syLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVVc2VyOiBmdW5jdGlvbiB1cGRhdGVVc2VyKF9yZWYxOSwgX3JlZjIwKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOS5jb21taXQ7CiAgICAgICAgICAgICAgICB1c2VyID0gX3JlZjIwLnVzZXI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UudXBkYXRlKHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0VXNlcicsCiAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDdbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiB1cGRhdGVVc2VyJywgX2NvbnRleHQ3LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Ny50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1syLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/dekel/Desktop/Coding Acadeny/MyProjects/Day47-CLI-FrameworkAdvanced/mistertoy/frontend/src/store/modules/user-store.js"],"names":["userService","socketService","SOCKET_EMIT_USER_WATCH","SOCKET_EVENT_USER_UPDATED","userStore","state","loggedinUser","getLoggedinUser","users","watchedUser","getters","mutations","setLoggedinUser","user","userId","filter","_id","actions","login","commit","userCred","type","console","log","signup","logout","loadUsers","getUsers","loadAndWatchUser","getById","emit","off","on","removeUser","remove","updateUser","update"],"mappings":"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","sourcesContent":["import { userService } from '../../services/user.service'\r\nimport { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from '../services/socket.service'\r\n\r\n// var localLoggedinUser = null;\r\n// if (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user || null);\r\n\r\nexport const userStore = {\r\n    state: {\r\n        loggedinUser: userService.getLoggedinUser(),\r\n        users: [],\r\n        watchedUser: null\r\n    },\r\n    getters: {\r\n        users({ users }) { return users },\r\n        loggedinUser({ loggedinUser }) { return loggedinUser },\r\n        watchedUser({ watchedUser }) { return watchedUser }\r\n    },\r\n    mutations: {\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n        },\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n        },\r\n        setWatchedUser(state, { user }) {\r\n            state.watchedUser = user;\r\n        },       \r\n        setUsers(state, { users }) {\r\n            state.users = users;\r\n        },\r\n        removeUser(state, { userId }) {\r\n            state.users = state.users.filter(user => user._id !== userId)\r\n        },\r\n    },\r\n    actions: {\r\n        async login({ commit }, { userCred }) {\r\n          try { \r\n             const user = await userService.login(userCred);\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in login', err)\r\n                throw err\r\n            }\r\n        },\r\n        async signup({ commit }, { userCred }) {\r\n            try {\r\n                const user = await userService.signup(userCred)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in signup', err)\r\n                throw err\r\n            }\r\n\r\n        },\r\n        async logout({ commit }) {\r\n            try {\r\n                await userService.logout()\r\n                commit({ type: 'setLoggedinUser', user: null })\r\n            } catch (err) {\r\n                console.log('userStore: Error in logout', err)\r\n                throw err\r\n            }\r\n        },\r\n        async loadUsers({ commit }) {\r\n            // TODO: loading\r\n            try {\r\n                const users = await userService.getUsers();\r\n                commit({ type: 'setUsers', users })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadUsers', err)\r\n                throw err\r\n            }\r\n        },        \r\n        async loadAndWatchUser({ commit }, { userId }) {\r\n            try {\r\n                const user = await userService.getById(userId);\r\n                commit({ type: 'setWatchedUser', user })\r\n                socketService.emit(SOCKET_EMIT_USER_WATCH, userId) \r\n                socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n                socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n                    commit({ type: 'setWatchedUser', user })\r\n                })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadAndWatchUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async removeUser({ commit }, { userId }) {\r\n            try {\r\n                await userService.remove(userId);\r\n                commit({ type: 'removeUser', userId })\r\n            } catch (err) {\r\n                console.log('userStore: Error in removeUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async updateUser({ commit }, { user }) {\r\n            try {\r\n                user = await userService.update(user);\r\n                commit({ type: 'setUser', user })\r\n            } catch (err) {\r\n                console.log('userStore: Error in updateUser', err)\r\n                throw err\r\n            }\r\n\r\n        }\r\n    }\r\n}"]}]}