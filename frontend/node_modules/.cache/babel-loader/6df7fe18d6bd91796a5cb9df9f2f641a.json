{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\src\\store\\modules\\toy-store.js","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\src\\store\\modules\\toy-store.js","mtime":1626102709814},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Rla2VsL0Rlc2t0b3AvQ29kaW5nIEFjYWRlbnkvTXlQcm9qZWN0cy9EYXk0Ny1DTEktRnJhbWV3b3JrQWR2YW5jZWQvbWlzdGVydG95L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IHRveVNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL3RveS5zZXJ2aWNlLmpzJzsKZXhwb3J0IHZhciB0b3lTdG9yZSA9IHsKICBzdGF0ZTogewogICAgdG95czogW10sCiAgICB0b3lUb1VwZGF0ZTogbnVsbCwKICAgIGZpbHRlckJ5OiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBwcmljZTogMCwKICAgICAgdHlwZTogJ0FsbCcKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIHRveXM6IGZ1bmN0aW9uIHRveXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRveXM7CiAgICB9LAogICAgdG95c1RvU2hvdzogZnVuY3Rpb24gdG95c1RvU2hvdyhzdGF0ZSkgewogICAgICB2YXIgdG95c1RvU2hvdyA9IHN0YXRlLnRveXMuZmlsdGVyKGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gK3RveS5wcmljZSA+PSBzdGF0ZS5maWx0ZXJCeS5wcmljZTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gdG95LnR5cGUgPT09IHN0YXRlLmZpbHRlckJ5LnR5cGUgfHwgc3RhdGUuZmlsdGVyQnkudHlwZSA9PT0gJ0FsbCc7CiAgICAgIH0pOwogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHN0YXRlLmZpbHRlckJ5Lm5hbWUsICdpJyk7CiAgICAgIHJldHVybiB0b3lzVG9TaG93LmZpbHRlcihmdW5jdGlvbiAodG95KSB7CiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QodG95Lm5hbWUpOwogICAgICB9KTsKICAgIH0sCiAgICB0b3lUb1VwZGF0ZTogZnVuY3Rpb24gdG95VG9VcGRhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRveVRvVXBkYXRlOwogICAgfSwKICAgIHRveXNDb3VudEJ5VHlwZTogZnVuY3Rpb24gdG95c0NvdW50QnlUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3lzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b3kpIHsKICAgICAgICBpZiAoIWFjY1t0b3kudHlwZV0pIGFjY1t0b3kudHlwZV0gPSAwOwogICAgICAgIGFjY1t0b3kudHlwZV0rKzsKICAgICAgICByZXR1cm4gYWNjOwogICAgICB9LCB7fSk7CiAgICB9LAogICAgdG95c0luU3RvY2tCeVR5cGU6IGZ1bmN0aW9uIHRveXNJblN0b2NrQnlUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3lzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b3kpIHsKICAgICAgICBpZiAoIWFjY1t0b3kudHlwZV0pIGFjY1t0b3kudHlwZV0gPSAwOwoKICAgICAgICBpZiAodG95LmluU3RvY2spIHsKICAgICAgICAgIGFjY1t0b3kudHlwZV0rKzsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sIHt9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0RmlsdGVyOiBmdW5jdGlvbiBzZXRGaWx0ZXIoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGZpbHRlckJ5ID0gX3JlZi5maWx0ZXJCeTsKICAgICAgc3RhdGUuZmlsdGVyQnkgPSBmaWx0ZXJCeTsKICAgIH0sCiAgICBzZXRGaWx0ZXJUb0FsbDogZnVuY3Rpb24gc2V0RmlsdGVyVG9BbGwoc3RhdGUpIHsKICAgICAgc3RhdGUuZmlsdGVyQnkgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgdHlwZTogJ0FsbCcKICAgICAgfTsKICAgIH0sCiAgICBsb2FkVG95czogZnVuY3Rpb24gbG9hZFRveXMoc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciB0b3lzID0gX3JlZjIudG95czsKICAgICAgc3RhdGUudG95cyA9IHRveXM7CiAgICB9LAogICAgYWRkVG95OiBmdW5jdGlvbiBhZGRUb3koc3RhdGUsIF9yZWYzKSB7CiAgICAgIHZhciBzYXZlZFRveSA9IF9yZWYzLnNhdmVkVG95OwogICAgICBzdGF0ZS50b3lzLnB1c2goc2F2ZWRUb3kpOwogICAgfSwKICAgIHVwZGF0ZVRveTogZnVuY3Rpb24gdXBkYXRlVG95KHN0YXRlLCBfcmVmNCkgewogICAgICB2YXIgc2F2ZWRUb3kgPSBfcmVmNC5zYXZlZFRveTsKICAgICAgdmFyIGlkeCA9IHN0YXRlLnRveXMuZmluZEluZGV4KGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gdG95Ll9pZCA9PT0gc2F2ZWRUb3kuX2lkOwogICAgICB9KTsKICAgICAgc3RhdGUudG95cy5zcGxpY2UoaWR4LCAxLCBzYXZlZFRveSk7CiAgICAgIHN0YXRlLnRveVRvVXBkYXRlID0gbnVsbDsKICAgIH0sCiAgICByZW1vdmVUb3k6IGZ1bmN0aW9uIHJlbW92ZVRveShzdGF0ZSwgX3JlZjUpIHsKICAgICAgdmFyIHRveUlkID0gX3JlZjUudG95SWQ7CiAgICAgIHZhciBpZHggPSBzdGF0ZS50b3lzLmZpbmRJbmRleChmdW5jdGlvbiAodG95KSB7CiAgICAgICAgcmV0dXJuIHRveS5faWQgPT09IHRveUlkOwogICAgICB9KTsKICAgICAgc3RhdGUudG95cy5zcGxpY2UoaWR4LCAxKTsKICAgIH0sCiAgICBzZXRUb3lUb1VwZGF0ZTogZnVuY3Rpb24gc2V0VG95VG9VcGRhdGUoc3RhdGUsIF9yZWY2KSB7CiAgICAgIHZhciB0b3kgPSBfcmVmNi50b3k7CiAgICAgIHN0YXRlLnRveVRvVXBkYXRlID0gdG95OwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9hZFRveXM6IGZ1bmN0aW9uIGxvYWRUb3lzKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG95czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRveVNlcnZpY2UucXVlcnkoY29udGVudC5zdGF0ZS5maWx0ZXJCeSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRveXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29udGVudC5jb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnbG9hZFRveXMnLAogICAgICAgICAgICAgICAgICB0b3lzOiB0b3lzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRveXMpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2Fubm90IGxvYWQgdG95cycsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzYXZlVG95OiBmdW5jdGlvbiBzYXZlVG95KF9yZWY3LCBfcmVmOCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCB0b3ksIHR5cGUsIHNhdmVkVG95OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgICAgICAgICAgICB0b3kgPSBfcmVmOC50b3k7CiAgICAgICAgICAgICAgICB0eXBlID0gdG95Ll9pZCA/ICd1cGRhdGVUb3knIDogJ2FkZFRveSc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gdG95U2VydmljZS5zYXZlKHRveSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHNhdmVkVG95ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgICBzYXZlZFRveTogc2F2ZWRUb3kKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHNhdmVkVG95KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2Fubm90IHNhdmUgdG95ICcsIHRveSwgJywnLCBfY29udGV4dDIudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVUb3k6IGZ1bmN0aW9uIHJlbW92ZVRveShfcmVmOSwgX3JlZjEwKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBjb21taXQsIHRveUlkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgICAgICAgICAgICB0b3lJZCA9IF9yZWYxMC50b3lJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3lTZXJ2aWNlLnJlbW92ZSh0b3lJZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmVUb3knLAogICAgICAgICAgICAgICAgICB0b3lJZDogdG95SWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2Fubm90IHJlbW92ZSB0b3kgJywgdG95SWQsICcsJywgX2NvbnRleHQzLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1syLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDaGF0SGlzdG9yeVRveTogZnVuY3Rpb24gZ2V0Q2hhdEhpc3RvcnlUb3koX3JlZjExKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciB0b3lJZCwgdG95OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0b3lJZCA9IF9yZWYxMS50b3lJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0b3lTZXJ2aWNlLmdldEJ5SWQodG95SWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0b3kgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0b3kuY2hhdEhpc3RvcnkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/dekel/Desktop/Coding Acadeny/MyProjects/Day47-CLI-FrameworkAdvanced/mistertoy/frontend/src/store/modules/toy-store.js"],"names":["toyService","toyStore","state","toys","toyToUpdate","filterBy","name","price","type","getters","toysToShow","filter","toy","regex","RegExp","test","toysCountByType","reduce","acc","toysInStockByType","inStock","mutations","setFilter","setFilterToAll","loadToys","addToy","savedToy","push","updateToy","idx","findIndex","_id","splice","removeToy","toyId","setToyToUpdate","actions","content","query","commit","console","log","saveToy","save","remove","getChatHistoryToy","getById","chatHistory"],"mappings":"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","sourcesContent":["import { toyService } from '@/services/toy.service.js'\r\n\r\nexport const toyStore = {\r\n   state: {\r\n      toys: [],\r\n      toyToUpdate: null,\r\n      filterBy: {\r\n         name: '',\r\n         price: 0,\r\n         type: 'All',\r\n      }\r\n   },\r\n   getters: {\r\n      toys(state) {\r\n         return state.toys;\r\n      },\r\n      toysToShow(state) {\r\n         let toysToShow = state.toys.filter(toy => +toy.price >= state.filterBy.price)\r\n            .filter(toy => toy.type === state.filterBy.type || state.filterBy.type === 'All')\r\n         let regex = new RegExp(state.filterBy.name, 'i')\r\n         return toysToShow.filter(toy => regex.test(toy.name))\r\n      },\r\n      toyToUpdate(state) {\r\n         return state.toyToUpdate;\r\n      },\r\n      toysCountByType(state) {\r\n         return state.toys.reduce((acc, toy) => {\r\n            if (!acc[toy.type]) acc[toy.type] = 0;\r\n            acc[toy.type]++;\r\n            return acc;\r\n         }, {});\r\n      },\r\n      toysInStockByType(state) {\r\n         return state.toys.reduce((acc, toy) => {\r\n            if (!acc[toy.type]) acc[toy.type] = 0;\r\n            if (toy.inStock) {\r\n               acc[toy.type]++;\r\n            }\r\n            return acc;\r\n         }, {});\r\n      }\r\n   },\r\n   mutations: {\r\n      setFilter(state, { filterBy }) {\r\n         state.filterBy = filterBy\r\n      },\r\n      setFilterToAll(state) {\r\n         state.filterBy = {\r\n            name: '',\r\n            price: 0,\r\n            type: 'All',\r\n         }\r\n      },\r\n      loadToys(state, { toys }) {\r\n         state.toys = toys\r\n      },\r\n      addToy(state, { savedToy }) {\r\n         state.toys.push(savedToy);\r\n      },\r\n      updateToy(state, { savedToy }) {\r\n         const idx = state.toys.findIndex(toy =>\r\n            toy._id === savedToy._id)\r\n         state.toys.splice(idx, 1, savedToy)\r\n         state.toyToUpdate = null\r\n      },\r\n      removeToy(state, { toyId }) {\r\n         const idx = state.toys.findIndex(toy => toy._id === toyId)\r\n         state.toys.splice(idx, 1);\r\n      },\r\n      setToyToUpdate(state, { toy }) {\r\n         state.toyToUpdate = toy\r\n      },\r\n \r\n   },\r\n   actions: {\r\n      async loadToys(content) {\r\n         try {\r\n            const toys = await toyService.query(content.state.filterBy)\r\n            content.commit({ type: 'loadToys', toys })\r\n            return toys\r\n         }\r\n         catch (err){\r\n            console.log('Cannot load toys', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async saveToy({ commit }, { toy }) {\r\n         const type = (toy._id) ? 'updateToy' : 'addToy'\r\n         try {\r\n            const savedToy = await toyService.save(toy)\r\n            commit({ type, savedToy })\r\n            return savedToy\r\n         }\r\n         catch (err){\r\n            console.log('Cannot save toy ', toy, ',', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async removeToy({ commit }, { toyId }) {\r\n         try {\r\n            await toyService.remove(toyId)\r\n            commit({ type: 'removeToy', toyId })\r\n         }\r\n         catch (err){\r\n            console.log('Cannot remove toy ', toyId, ',', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async getChatHistoryToy({ toyId }) {\r\n         const toy = await toyService.getById(toyId);\r\n         return toy.chatHistory;\r\n      }\r\n\r\n   }\r\n}"]}]}