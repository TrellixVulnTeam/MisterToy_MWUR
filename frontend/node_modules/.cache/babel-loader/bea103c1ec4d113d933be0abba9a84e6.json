{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\store\\modules\\toy-store.js","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\store\\modules\\toy-store.js","mtime":1626010442855},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Rla2VsL0Rlc2t0b3AvQ29kaW5nIEFjYWRlbnkvTXlQcm9qZWN0cy9EYXk0Ny1DTEktRnJhbWV3b3JrQWR2YW5jZWQvbWlzdGVydG95L0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IHRveVNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL3RveS5zZXJ2aWNlLmpzJzsKZXhwb3J0IHZhciB0b3lTdG9yZSA9IHsKICBzdGF0ZTogewogICAgdG95czogW10sCiAgICB0b3lUb1VwZGF0ZTogbnVsbCwKICAgIGZpbHRlckJ5OiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBwcmljZTogMCwKICAgICAgdHlwZTogJ0FsbCcKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIHRveXM6IGZ1bmN0aW9uIHRveXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRveXM7CiAgICB9LAogICAgdG95c1RvU2hvdzogZnVuY3Rpb24gdG95c1RvU2hvdyhzdGF0ZSkgewogICAgICB2YXIgdG95c1RvU2hvdyA9IHN0YXRlLnRveXMuZmlsdGVyKGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gK3RveS5wcmljZSA+PSBzdGF0ZS5maWx0ZXJCeS5wcmljZTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gdG95LnR5cGUgPT09IHN0YXRlLmZpbHRlckJ5LnR5cGUgfHwgc3RhdGUuZmlsdGVyQnkudHlwZSA9PT0gJ0FsbCc7CiAgICAgIH0pOwogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHN0YXRlLmZpbHRlckJ5Lm5hbWUsICdpJyk7CiAgICAgIHJldHVybiB0b3lzVG9TaG93LmZpbHRlcihmdW5jdGlvbiAodG95KSB7CiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QodG95Lm5hbWUpOwogICAgICB9KTsKICAgIH0sCiAgICB0b3lUb1VwZGF0ZTogZnVuY3Rpb24gdG95VG9VcGRhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRveVRvVXBkYXRlOwogICAgfSwKICAgIHRveXNDb3VudEJ5VHlwZTogZnVuY3Rpb24gdG95c0NvdW50QnlUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3lzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b3kpIHsKICAgICAgICBpZiAoIWFjY1t0b3kudHlwZV0pIGFjY1t0b3kudHlwZV0gPSAwOwogICAgICAgIGFjY1t0b3kudHlwZV0rKzsKICAgICAgICByZXR1cm4gYWNjOwogICAgICB9LCB7fSk7CiAgICB9LAogICAgdG95c0luU3RvY2tCeVR5cGU6IGZ1bmN0aW9uIHRveXNJblN0b2NrQnlUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3lzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b3kpIHsKICAgICAgICBpZiAoIWFjY1t0b3kudHlwZV0pIGFjY1t0b3kudHlwZV0gPSAwOwoKICAgICAgICBpZiAodG95LmluU3RvY2spIHsKICAgICAgICAgIGFjY1t0b3kudHlwZV0rKzsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sIHt9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0RmlsdGVyOiBmdW5jdGlvbiBzZXRGaWx0ZXIoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGZpbHRlckJ5ID0gX3JlZi5maWx0ZXJCeTsKICAgICAgc3RhdGUuZmlsdGVyQnkgPSBmaWx0ZXJCeTsKICAgIH0sCiAgICBzZXRGaWx0ZXJUb0FsbDogZnVuY3Rpb24gc2V0RmlsdGVyVG9BbGwoc3RhdGUpIHsKICAgICAgc3RhdGUuZmlsdGVyQnkgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgdHlwZTogJ0FsbCcKICAgICAgfTsKICAgIH0sCiAgICBsb2FkVG95czogZnVuY3Rpb24gbG9hZFRveXMoc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciB0b3lzID0gX3JlZjIudG95czsKICAgICAgc3RhdGUudG95cyA9IHRveXM7CiAgICB9LAogICAgYWRkVG95OiBmdW5jdGlvbiBhZGRUb3koc3RhdGUsIF9yZWYzKSB7CiAgICAgIHZhciBzYXZlZFRveSA9IF9yZWYzLnNhdmVkVG95OwogICAgICBzdGF0ZS50b3lzLnB1c2goc2F2ZWRUb3kpOwogICAgfSwKICAgIHVwZGF0ZVRveTogZnVuY3Rpb24gdXBkYXRlVG95KHN0YXRlLCBfcmVmNCkgewogICAgICB2YXIgc2F2ZWRUb3kgPSBfcmVmNC5zYXZlZFRveTsKICAgICAgdmFyIGlkeCA9IHN0YXRlLnRveXMuZmluZEluZGV4KGZ1bmN0aW9uICh0b3kpIHsKICAgICAgICByZXR1cm4gdG95Ll9pZCA9PT0gc2F2ZWRUb3kuX2lkOwogICAgICB9KTsKICAgICAgc3RhdGUudG95cy5zcGxpY2UoaWR4LCAxLCBzYXZlZFRveSk7CiAgICAgIHN0YXRlLnRveVRvVXBkYXRlID0gbnVsbDsKICAgIH0sCiAgICByZW1vdmVUb3k6IGZ1bmN0aW9uIHJlbW92ZVRveShzdGF0ZSwgX3JlZjUpIHsKICAgICAgdmFyIHRveUlkID0gX3JlZjUudG95SWQ7CiAgICAgIHZhciBpZHggPSBzdGF0ZS50b3lzLmZpbmRJbmRleChmdW5jdGlvbiAodG95KSB7CiAgICAgICAgcmV0dXJuIHRveS5faWQgPT09IHRveUlkOwogICAgICB9KTsKICAgICAgc3RhdGUudG95cy5zcGxpY2UoaWR4LCAxKTsKICAgIH0sCiAgICBzZXRUb3lUb1VwZGF0ZTogZnVuY3Rpb24gc2V0VG95VG9VcGRhdGUoc3RhdGUsIF9yZWY2KSB7CiAgICAgIHZhciB0b3kgPSBfcmVmNi50b3k7CiAgICAgIHN0YXRlLnRveVRvVXBkYXRlID0gdG95OwogICAgfSAvLyBhZGRSZXZpZXcoc3RhdGUsIHsgIHJldmlldyB9KSB7CiAgICAvLyAgICAgY29uc3QgdG95VG9BZGQgPSBzdGF0ZS50b3lzLmZpbmQoY3VyclRveSA9PmN1cnJUb3kuX2lkID09PSB0b3kuX2lkKTsKICAgIC8vICAgICB0b3lUb0FkZC5yZXZpZXdzLnB1c2gocmV2aWV3KTsKICAgIC8vICAgIHJldHVybiB0b3lUb0FkZAogICAgLy8gfQoKICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRUb3lzOiBmdW5jdGlvbiBsb2FkVG95cyhjb250ZW50KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHRveXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0b3lTZXJ2aWNlLnF1ZXJ5KGNvbnRlbnQuc3RhdGUuZmlsdGVyQnkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0b3lzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnRlbnQuY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2xvYWRUb3lzJywKICAgICAgICAgICAgICAgICAgdG95czogdG95cwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0b3lzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBsb2FkIHRveXMnLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZVRveTogZnVuY3Rpb24gc2F2ZVRveShfcmVmNywgX3JlZjgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdG95LCB0eXBlLCBzYXZlZFRveTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgICAgICAgICAgICAgdG95ID0gX3JlZjgudG95OwogICAgICAgICAgICAgICAgdHlwZSA9IHRveS5faWQgPyAndXBkYXRlVG95JyA6ICdhZGRUb3knOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRveVNlcnZpY2Uuc2F2ZSh0b3kpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBzYXZlZFRveSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgc2F2ZWRUb3k6IHNhdmVkVG95CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBzYXZlZFRveSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBzYXZlIHRveSAnLCB0b3ksICcsJywgX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlVG95OiBmdW5jdGlvbiByZW1vdmVUb3koX3JlZjksIF9yZWYxMCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0LCB0b3lJZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogICAgICAgICAgICAgICAgdG95SWQgPSBfcmVmMTAudG95SWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdG95U2VydmljZS5yZW1vdmUodG95SWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlVG95JywKICAgICAgICAgICAgICAgICAgdG95SWQ6IHRveUlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCByZW1vdmUgdG95ICcsIHRveUlkLCAnLCcsIF9jb250ZXh0My50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMiwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUmV2aWV3OiBmdW5jdGlvbiBhZGRSZXZpZXcoX3JlZjExLCBfcmVmMTIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgZ2V0dGVycywgcmV2aWV3LCBhZGRlZFJldmlldzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjExLmNvbW1pdCwgZ2V0dGVycyA9IF9yZWYxMS5nZXR0ZXJzOwogICAgICAgICAgICAgICAgcmV2aWV3ID0gX3JlZjEyLnJldmlldzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3lTZXJ2aWNlLmFkZFJldmlldyhyZXZpZXcpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBhZGRlZFJldmlldyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ34gYWRkZWRSZXZpZXcnLCBhZGRlZFJldmlldyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgYWRkZWRSZXZpZXcpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgYWRkIHJldmlldyAnLCByZXZpZXcsICcsJywgX2NvbnRleHQ0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0NC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1syLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/dekel/Desktop/Coding Acadeny/MyProjects/Day47-CLI-FrameworkAdvanced/mistertoy/Frontend/src/store/modules/toy-store.js"],"names":["toyService","toyStore","state","toys","toyToUpdate","filterBy","name","price","type","getters","toysToShow","filter","toy","regex","RegExp","test","toysCountByType","reduce","acc","toysInStockByType","inStock","mutations","setFilter","setFilterToAll","loadToys","addToy","savedToy","push","updateToy","idx","findIndex","_id","splice","removeToy","toyId","setToyToUpdate","actions","content","query","commit","console","log","saveToy","save","remove","addReview","review","addedReview"],"mappings":"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","sourcesContent":["import { toyService } from '@/services/toy.service.js'\r\n\r\nexport const toyStore = {\r\n   state: {\r\n      toys: [],\r\n      toyToUpdate: null,\r\n      filterBy: {\r\n         name: '',\r\n         price: 0,\r\n         type: 'All',\r\n      }\r\n   },\r\n   getters: {\r\n      toys(state) {\r\n         return state.toys;\r\n      },\r\n      toysToShow(state) {\r\n         let toysToShow = state.toys.filter(toy => +toy.price >= state.filterBy.price)\r\n            .filter(toy => toy.type === state.filterBy.type || state.filterBy.type === 'All')\r\n         let regex = new RegExp(state.filterBy.name, 'i')\r\n         return toysToShow.filter(toy => regex.test(toy.name))\r\n      },\r\n      toyToUpdate(state) {\r\n         return state.toyToUpdate;\r\n      },\r\n      toysCountByType(state) {\r\n         return state.toys.reduce((acc, toy) => {\r\n            if (!acc[toy.type]) acc[toy.type] = 0;\r\n            acc[toy.type]++;\r\n            return acc;\r\n         }, {});\r\n      },\r\n      toysInStockByType(state) {\r\n         return state.toys.reduce((acc, toy) => {\r\n            if (!acc[toy.type]) acc[toy.type] = 0;\r\n            if (toy.inStock) {\r\n               acc[toy.type]++;\r\n            }\r\n            return acc;\r\n         }, {});\r\n      }\r\n   },\r\n   mutations: {\r\n      setFilter(state, { filterBy }) {\r\n         state.filterBy = filterBy\r\n      },\r\n      setFilterToAll(state) {\r\n         state.filterBy = {\r\n            name: '',\r\n            price: 0,\r\n            type: 'All',\r\n         }\r\n      },\r\n      loadToys(state, { toys }) {\r\n         state.toys = toys\r\n      },\r\n      addToy(state, { savedToy }) {\r\n         state.toys.push(savedToy);\r\n      },\r\n      updateToy(state, { savedToy }) {\r\n         const idx = state.toys.findIndex(toy =>\r\n            toy._id === savedToy._id)\r\n         state.toys.splice(idx, 1, savedToy)\r\n         state.toyToUpdate = null\r\n      },\r\n      removeToy(state, { toyId }) {\r\n         const idx = state.toys.findIndex(toy => toy._id === toyId)\r\n         state.toys.splice(idx, 1);\r\n      },\r\n      setToyToUpdate(state, { toy }) {\r\n         state.toyToUpdate = toy\r\n      },\r\n      // addReview(state, {  review }) {\r\n        \r\n      //     const toyToAdd = state.toys.find(currToy =>currToy._id === toy._id);\r\n      //     toyToAdd.reviews.push(review);\r\n      //    return toyToAdd\r\n      // }\r\n   },\r\n   actions: {\r\n      async loadToys(content) {\r\n         try {\r\n            const toys = await toyService.query(content.state.filterBy)\r\n            content.commit({ type: 'loadToys', toys })\r\n            return toys\r\n         }\r\n         catch (err){\r\n            console.log('Cannot load toys', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async saveToy({ commit }, { toy }) {\r\n         const type = (toy._id) ? 'updateToy' : 'addToy'\r\n         try {\r\n            const savedToy = await toyService.save(toy)\r\n            commit({ type, savedToy })\r\n            return savedToy\r\n         }\r\n         catch (err){\r\n            console.log('Cannot save toy ', toy, ',', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async removeToy({ commit }, { toyId }) {\r\n         try {\r\n            await toyService.remove(toyId)\r\n            commit({ type: 'removeToy', toyId })\r\n         }\r\n         catch (err){\r\n            console.log('Cannot remove toy ', toyId, ',', err);\r\n            throw err;\r\n         }\r\n      },\r\n      async addReview({ commit,getters }, {review }) {\r\n         try {  \r\n            const addedReview = await toyService.addReview(review)\r\n            console.log('~ addedReview', addedReview)\r\n            return addedReview;\r\n         }\r\n         catch (err){\r\n            console.log('Cannot add review ', review, ',', err);\r\n            throw err;\r\n         }\r\n      }\r\n   }\r\n}"]}]}