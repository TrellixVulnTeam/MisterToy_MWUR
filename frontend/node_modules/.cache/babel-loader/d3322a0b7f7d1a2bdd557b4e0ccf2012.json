{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\store\\modules\\user-store.js","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\store\\modules\\user-store.js","mtime":1625830818135},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Rla2VsL0Rlc2t0b3AvQ29kaW5nIEFjYWRlbnkvTXlQcm9qZWN0cy9EYXk0Ny1DTEktRnJhbWV3b3JrQWR2YW5jZWQvbWlzdGVydG95L0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9kZWtlbC9EZXNrdG9wL0NvZGluZyBBY2FkZW55L015UHJvamVjdHMvRGF5NDctQ0xJLUZyYW1ld29ya0FkdmFuY2VkL21pc3RlcnRveS9Gcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9tdXRhdGlvbnM7CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCB7IHVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXNlci5zZXJ2aWNlJzsgLy8gaW1wb3J0IHsgc29ja2V0U2VydmljZSwgU09DS0VUX0VNSVRfVVNFUl9XQVRDSCwgU09DS0VUX0VWRU5UX1VTRVJfVVBEQVRFRCB9IGZyb20gJy4uL3NlcnZpY2VzL3NvY2tldC5zZXJ2aWNlJwovLyB2YXIgbG9jYWxMb2dnZWRpblVzZXIgPSBudWxsOwovLyBpZiAoc2Vzc2lvblN0b3JhZ2UudXNlcikgbG9jYWxMb2dnZWRpblVzZXIgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLnVzZXIgfHwgbnVsbCk7CgpleHBvcnQgdmFyIHVzZXJTdG9yZSA9IHsKICBzdGF0ZTogewogICAgbG9nZ2VkaW5Vc2VyOiB1c2VyU2VydmljZS5nZXRMb2dnZWRpblVzZXIoKSwKICAgIHVzZXJzOiBbXSwKICAgIHdhdGNoZWRVc2VyOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICB1c2VyczogZnVuY3Rpb24gdXNlcnMoX3JlZikgewogICAgICB2YXIgdXNlcnMgPSBfcmVmLnVzZXJzOwogICAgICByZXR1cm4gdXNlcnM7CiAgICB9LAogICAgbG9nZ2VkaW5Vc2VyOiBmdW5jdGlvbiBsb2dnZWRpblVzZXIoX3JlZjIpIHsKICAgICAgdmFyIGxvZ2dlZGluVXNlciA9IF9yZWYyLmxvZ2dlZGluVXNlcjsKICAgICAgcmV0dXJuIGxvZ2dlZGluVXNlcjsKICAgIH0sCiAgICB3YXRjaGVkVXNlcjogZnVuY3Rpb24gd2F0Y2hlZFVzZXIoX3JlZjMpIHsKICAgICAgdmFyIHdhdGNoZWRVc2VyID0gX3JlZjMud2F0Y2hlZFVzZXI7CiAgICAgIHJldHVybiB3YXRjaGVkVXNlcjsKICAgIH0KICB9LAogIG11dGF0aW9uczogKF9tdXRhdGlvbnMgPSB7CiAgICBzZXRMb2dnZWRpblVzZXI6IGZ1bmN0aW9uIHNldExvZ2dlZGluVXNlcihzdGF0ZSwgX3JlZjQpIHsKICAgICAgdmFyIHVzZXIgPSBfcmVmNC51c2VyOwogICAgICBzdGF0ZS5sb2dnZWRpblVzZXIgPSB1c2VyOwogICAgfQogIH0sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCAic2V0TG9nZ2VkaW5Vc2VyIiwgZnVuY3Rpb24gc2V0TG9nZ2VkaW5Vc2VyKHN0YXRlLCBfcmVmNSkgewogICAgdmFyIHVzZXIgPSBfcmVmNS51c2VyOwogICAgc3RhdGUubG9nZ2VkaW5Vc2VyID0gdXNlcjsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsICJzZXRXYXRjaGVkVXNlciIsIGZ1bmN0aW9uIHNldFdhdGNoZWRVc2VyKHN0YXRlLCBfcmVmNikgewogICAgdmFyIHVzZXIgPSBfcmVmNi51c2VyOwogICAgc3RhdGUud2F0Y2hlZFVzZXIgPSB1c2VyOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgInNldFVzZXJzIiwgZnVuY3Rpb24gc2V0VXNlcnMoc3RhdGUsIF9yZWY3KSB7CiAgICB2YXIgdXNlcnMgPSBfcmVmNy51c2VyczsKICAgIHN0YXRlLnVzZXJzID0gdXNlcnM7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCAicmVtb3ZlVXNlciIsIGZ1bmN0aW9uIHJlbW92ZVVzZXIoc3RhdGUsIF9yZWY4KSB7CiAgICB2YXIgdXNlcklkID0gX3JlZjgudXNlcklkOwogICAgc3RhdGUudXNlcnMgPSBzdGF0ZS51c2Vycy5maWx0ZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgcmV0dXJuIHVzZXIuX2lkICE9PSB1c2VySWQ7CiAgICB9KTsKICB9KSwgX211dGF0aW9ucyksCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWY5LCBfcmVmMTApIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyQ3JlZCwgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgICAgICAgICAgICB1c2VyQ3JlZCA9IF9yZWYxMC51c2VyQ3JlZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UubG9naW4odXNlckNyZWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRMb2dnZWRpblVzZXInLAogICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIGxvZ2luJywgX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cChfcmVmMTEsIF9yZWYxMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyQ3JlZCwgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjExLmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXJDcmVkID0gX3JlZjEyLnVzZXJDcmVkOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJTZXJ2aWNlLnNpZ251cCh1c2VyQ3JlZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRMb2dnZWRpblVzZXInLAogICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBzaWdudXAnLCBfY29udGV4dDIudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEzLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyU2VydmljZS5sb2dvdXQoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldExvZ2dlZGluVXNlcicsCiAgICAgICAgICAgICAgICAgIHVzZXI6IG51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlclN0b3JlOiBFcnJvciBpbiBsb2dvdXQnLCBfY29udGV4dDMudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRVc2VyczogZnVuY3Rpb24gbG9hZFVzZXJzKF9yZWYxNCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE0LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyU2VydmljZS5nZXRVc2VycygpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICB1c2VycyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldFVzZXJzJywKICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9hZFVzZXJzJywgX2NvbnRleHQ0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0NC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQW5kV2F0Y2hVc2VyOiBmdW5jdGlvbiBsb2FkQW5kV2F0Y2hVc2VyKF9yZWYxNSwgX3JlZjE2KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJZCwgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE1LmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXJJZCA9IF9yZWYxNi51c2VySWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclNlcnZpY2UuZ2V0QnlJZCh1c2VySWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0V2F0Y2hlZFVzZXInLAogICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChTT0NLRVRfRU1JVF9VU0VSX1dBVENILCB1c2VySWQpOwogICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5vZmYoU09DS0VUX0VWRU5UX1VTRVJfVVBEQVRFRCk7CiAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFNPQ0tFVF9FVkVOVF9VU0VSX1VQREFURUQsIGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldFdhdGNoZWRVc2VyJywKICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJTdG9yZTogRXJyb3IgaW4gbG9hZEFuZFdhdGNoVXNlcicsIF9jb250ZXh0NS50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDUudDA7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbMiwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uIHJlbW92ZVVzZXIoX3JlZjE3LCBfcmVmMTgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlcklkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTcuY29tbWl0OwogICAgICAgICAgICAgICAgdXNlcklkID0gX3JlZjE4LnVzZXJJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyU2VydmljZS5yZW1vdmUodXNlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlbW92ZVVzZXInLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIHJlbW92ZVVzZXInLCBfY29udGV4dDYudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ2LnQwOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzIsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVVzZXI6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIoX3JlZjE5LCBfcmVmMjApIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE5LmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfcmVmMjAudXNlcjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyU2VydmljZS51cGRhdGUodXNlcik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZXRVc2VyJywKICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyU3RvcmU6IEVycm9yIGluIHVwZGF0ZVVzZXInLCBfY29udGV4dDcudDApOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ3LnQwOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzIsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/dekel/Desktop/Coding Acadeny/MyProjects/Day47-CLI-FrameworkAdvanced/mistertoy/Frontend/src/store/modules/user-store.js"],"names":["userService","userStore","state","loggedinUser","getLoggedinUser","users","watchedUser","getters","mutations","setLoggedinUser","user","userId","filter","_id","actions","login","commit","userCred","type","console","log","signup","logout","loadUsers","getUsers","loadAndWatchUser","getById","socketService","emit","SOCKET_EMIT_USER_WATCH","off","SOCKET_EVENT_USER_UPDATED","on","removeUser","remove","updateUser","update"],"mappings":"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","sourcesContent":["import { userService } from '../../services/user.service'\r\n// import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from '../services/socket.service'\r\n\r\n// var localLoggedinUser = null;\r\n// if (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user || null);\r\n\r\nexport const userStore = {\r\n    state: {\r\n        loggedinUser: userService.getLoggedinUser(),\r\n        users: [],\r\n        watchedUser: null\r\n    },\r\n    getters: {\r\n        users({ users }) { return users },\r\n        loggedinUser({ loggedinUser }) { return loggedinUser },\r\n        watchedUser({ watchedUser }) { return watchedUser }\r\n    },\r\n    mutations: {\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n        },\r\n        setLoggedinUser(state, { user }) {\r\n            state.loggedinUser = user;\r\n        },\r\n        setWatchedUser(state, { user }) {\r\n            state.watchedUser = user;\r\n        },       \r\n        setUsers(state, { users }) {\r\n            state.users = users;\r\n        },\r\n        removeUser(state, { userId }) {\r\n            state.users = state.users.filter(user => user._id !== userId)\r\n        },\r\n    },\r\n    actions: {\r\n        async login({ commit }, { userCred }) {\r\n          try { \r\n             const user = await userService.login(userCred);\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in login', err)\r\n                throw err\r\n            }\r\n        },\r\n        async signup({ commit }, { userCred }) {\r\n            try {\r\n                const user = await userService.signup(userCred)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in signup', err)\r\n                throw err\r\n            }\r\n\r\n        },\r\n        async logout({ commit }) {\r\n            try {\r\n                await userService.logout()\r\n                commit({ type: 'setLoggedinUser', user: null })\r\n            } catch (err) {\r\n                console.log('userStore: Error in logout', err)\r\n                throw err\r\n            }\r\n        },\r\n        async loadUsers({ commit }) {\r\n            // TODO: loading\r\n            try {\r\n                const users = await userService.getUsers();\r\n                commit({ type: 'setUsers', users })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadUsers', err)\r\n                throw err\r\n            }\r\n        },        \r\n        async loadAndWatchUser({ commit }, { userId }) {\r\n            try {\r\n                const user = await userService.getById(userId);\r\n                commit({ type: 'setWatchedUser', user })\r\n                socketService.emit(SOCKET_EMIT_USER_WATCH, userId) \r\n                socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n                socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n                    commit({ type: 'setWatchedUser', user })\r\n                })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadAndWatchUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async removeUser({ commit }, { userId }) {\r\n            try {\r\n                await userService.remove(userId);\r\n                commit({ type: 'removeUser', userId })\r\n            } catch (err) {\r\n                console.log('userStore: Error in removeUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async updateUser({ commit }, { user }) {\r\n            try {\r\n                user = await userService.update(user);\r\n                commit({ type: 'setUser', user })\r\n            } catch (err) {\r\n                console.log('userStore: Error in updateUser', err)\r\n                throw err\r\n            }\r\n\r\n        }\r\n    }\r\n}"]}]}