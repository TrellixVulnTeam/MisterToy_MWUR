{"remainingRequest":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\cmps\\toy-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\src\\cmps\\toy-add.vue","mtime":1626010079679},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dekel\\Desktop\\Coding Acadeny\\MyProjects\\Day47-CLI-FrameworkAdvanced\\mistertoy\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0b3lTZXJ2aWNlIH0gZnJvbSAiLi4vc2VydmljZXMvdG95LnNlcnZpY2UuanMiOw0KaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAidmVlLXZhbGlkYXRlIjsNCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidmVlLXZhbGlkYXRlL2Rpc3QvcnVsZXMiOw0KaW1wb3J0IHsgVmFsaWRhdGlvblByb3ZpZGVyLCBWYWxpZGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOw0KaW1wb3J0IHsgRmllbGQsIEZvcm0gfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOw0KZXh0ZW5kKCJyZXF1aXJlZCIsIHsNCiAgLi4ucmVxdWlyZWQsDQogIG1lc3NhZ2U6ICJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIiwNCn0pOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0b3k6IG51bGwsDQogICAgICB0aXRsZTogbnVsbCwNCiAgICAgIG9wdGlvbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAiRnVubnkiLA0KICAgICAgICAgIGxhYmVsOiAiRnVubnkiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICJBZHVsdCIsDQogICAgICAgICAgbGFiZWw6ICJBZHVsdCIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogIlNhZCIsDQogICAgICAgICAgbGFiZWw6ICJTYWQiLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHZhbHVlOiAiIiwNCiAgICAgIHJlcXVpcmVkOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgVmFsaWRhdGlvblByb3ZpZGVyLA0KICAgIEZpZWxkLA0KICAgIEZvcm0sDQogICAgVmFsaWRhdGlvbk9ic2VydmVyLA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzLnRveVRvVXBkYXRlKSB7DQogICAgICB0aGlzLnRveSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuZ2V0dGVycy50b3lUb1VwZGF0ZSkpOw0KICAgICAgdGhpcy50aXRsZSA9ICJVcGRhdGUgVG95IjsNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy50b3kgPSB0b3lTZXJ2aWNlLmdldEVtcHR5VG95KCk7DQogICAgICB0aGlzLnRpdGxlID0gIkFkZCBUb3kiOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIHNhdmVUb3koKSB7DQogICAgICB0aGlzLnRveS5jcmVhdGVkQXQgPSBEYXRlLm5vdygpOw0KICAgICAgdGhpcy50b3kuaW1nTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyArIDEpOw0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAic2F2ZVRveSIsIHRveTogdGhpcy50b3kgfSk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coImNhbm5vdCBzYXZlIHRveSIsIGVycik7DQogICAgICAgIHRocm93IGVycjsNCiAgICAgIH0gZmluYWxseSB7DQogICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xvc2VNb2RhbCgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNsb3NlTW9kYWwiKTsNCiAgICAgIHRoaXMudG95ID0gbnVsbDsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCh7IHR5cGU6ICJzZXRUb3lUb1VwZGF0ZSIsIHRveTogbnVsbCB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["toy-add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"toy-add.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\r\n  <ValidationObserver v-slot=\"{ invalid }\">\r\n    <form class=\"toy-add\" @submit=\"saveToy\">\r\n      <h1>{{ title }}</h1>\r\n      <span class=\"close-modal\" @click=\"closeModal\">X</span>\r\n\r\n      <div class=\"name\">\r\n        <label for=\"name\">Name:</label>\r\n        <ValidationProvider name=\"required\" rules=\"required\">\r\n          <div class=\"input-container\" slot-scope=\"{ errors }\">\r\n            <el-input\r\n              id=\"name\"\r\n              class=\"input\"\r\n              placeholder=\"Name\"\r\n              v-model=\"toy.name\"\r\n            ></el-input>\r\n            <p>{{ errors[0] }}</p>\r\n          </div>\r\n        </ValidationProvider>\r\n      </div>\r\n\r\n      <div class=\"price\">\r\n        <label for=\"price\">Price:</label>\r\n        <ValidationProvider name=\"required\" rules=\"required\">\r\n          <div class=\"input-container\" slot-scope=\"{ errors }\">\r\n            <el-input\r\n              id=\"price\"\r\n              class=\"input\"\r\n              type=\"number\"\r\n              placeholder=\"Price\"\r\n              v-model=\"toy.price\"\r\n            ></el-input>\r\n            <p>{{ errors[0] }}</p>\r\n          </div>\r\n        </ValidationProvider>\r\n      </div>\r\n\r\n      <div class=\"type\">\r\n        <label for=\"type\">type:</label>\r\n        <ValidationProvider name=\"required\" rules=\"required\">\r\n          <div class=\"input-container\" slot-scope=\"{ errors }\">\r\n            <el-select\r\n              id=\"type\"\r\n              class=\"input\"\r\n              v-model=\"toy.type\"\r\n              placeholder=\"Type\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n            <p>{{ errors[0] }}</p>\r\n          </div>\r\n        </ValidationProvider>\r\n      </div>\r\n      <div class=\"inStock\">\r\n        <label for=\"inStock\">In Stock:</label>\r\n        <label class=\"switch\">\r\n          <input id=\"inStock\" type=\"checkbox\" v-model=\"toy.inStock\" />\r\n          <div></div>\r\n        </label>\r\n      </div>\r\n      <button type=\"submit\" :disabled=\"invalid\" class=\"save btn\">Save</button>\r\n    </form>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { toyService } from \"../services/toy.service.js\";\r\nimport { extend } from \"vee-validate\";\r\nimport { required } from \"vee-validate/dist/rules\";\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport { Field, Form } from \"vee-validate\";\r\nextend(\"required\", {\r\n  ...required,\r\n  message: \"This field is required\",\r\n});\r\nexport default {\r\n  data() {\r\n    return {\r\n      toy: null,\r\n      title: null,\r\n      options: [\r\n        {\r\n          value: \"Funny\",\r\n          label: \"Funny\",\r\n        },\r\n        {\r\n          value: \"Adult\",\r\n          label: \"Adult\",\r\n        },\r\n        {\r\n          value: \"Sad\",\r\n          label: \"Sad\",\r\n        },\r\n      ],\r\n      value: \"\",\r\n      required: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    ValidationProvider,\r\n    Field,\r\n    Form,\r\n    ValidationObserver,\r\n  },\r\n  created() {\r\n    if (this.$store.getters.toyToUpdate) {\r\n      this.toy = JSON.parse(JSON.stringify(this.$store.getters.toyToUpdate));\r\n      this.title = \"Update Toy\";\r\n    } else {\r\n      this.toy = toyService.getEmptyToy();\r\n      this.title = \"Add Toy\";\r\n    }\r\n  },\r\n  methods: {\r\n    async saveToy() {\r\n      this.toy.createdAt = Date.now();\r\n      this.toy.imgNum = Math.floor(Math.random() * 3 + 1);\r\n      try {\r\n        await this.$store.dispatch({ type: \"saveToy\", toy: this.toy });\r\n      } catch (err) {\r\n        console.log(\"cannot save toy\", err);\r\n        throw err;\r\n      } finally {\r\n        this.closeModal();\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$emit(\"closeModal\");\r\n      this.toy = null;\r\n      this.$store.commit({ type: \"setToyToUpdate\", toy: null });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n"]}]}